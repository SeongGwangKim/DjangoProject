{% extends 'base.html' %}

{% block content %}

    <div style="font-size: 1rem;">
        <div style="max-width: 700px; margin: 4rem auto;">
            <div style="text-align: center;">
                <h1>
                    {{ target_article.title }}
                </h1>
                <h3>
                    {{ target_article.writer.profile.nickname }}
                </h3>
                <hr>

                <img style="width: 100%; border-radius: 1rem; margin: 2rem 0;"
                        src="{{ target_article.image.url }}" alt="">
            </div>

            <div class="text-left">
                <!--   | safe 필터를 추가해서 태그와 같은 내용은 벗겨진다.  -->
                {{ target_article.content | safe }}
            </div>
            <hr>

            {% if target_article.writer == user %}
            <a href="{% url 'articleapp:update' pk=target_article.pk %}"
            class="btn btn-primary rounded-pill col-3">
                    게시글 수정<br>(Update Article)

            </a>

            <a href="{% url 'articleapp:delete' pk=target_article.pk %}"
            class="btn btn-danger rounded-pill col-3">
                    게시글 삭제<br>(Delete Article)

            </a>
            {% endif %}
            <hr>

            {% for comment in target_article.comment.all %}
                {% include 'commentapp/detail.html' with comment=comment %}

            {% endfor %}

            {% include 'commentapp/create.html' with article=target_article %}

        </div>
    </div>

{% endblock %}